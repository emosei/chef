current directory: /home/emosei/work/chef/vendor/bundle/ruby/2.4.0/gems/json-1.8.1/ext/json/ext/generator
/home/emosei/.rbenv/versions/2.4.2/bin/ruby -r ./siteconf20190831-11961-1phdn9.rb extconf.rb
creating Makefile

current directory: /home/emosei/work/chef/vendor/bundle/ruby/2.4.0/gems/json-1.8.1/ext/json/ext/generator
make "DESTDIR=" clean

current directory: /home/emosei/work/chef/vendor/bundle/ruby/2.4.0/gems/json-1.8.1/ext/json/ext/generator
make "DESTDIR="
compiling generator.c
generator.c:1 から include されたファイル中:
../fbuffer/fbuffer.h:175:47: error: マクロ "rb_str_new" は引数を 2 要求しますが、1 個しか与えられていません
In file included from generator.c:1:
../fbuffer/fbuffer.h: In function ‘fbuffer_to_s’:
../fbuffer/fbuffer.h:175: 警告: initialization makes integer from pointer without a cast
generator.c: In function ‘generate_json’:
generator.c:840: error: ‘rb_cFixnum’ undeclared (first use in this function)
generator.c:840: error: (Each undeclared identifier is reported only once
generator.c:840: error: for each function it appears in.)
generator.c:842: error: ‘rb_cBignum’ undeclared (first use in this function)
トップレベル:
cc1: 警告: unrecognized command line option "-Wno-self-assign"
cc1: 警告: unrecognized command line option "-Wno-constant-logical-operand"
cc1: 警告: unrecognized command line option "-Wno-parentheses-equality"
cc1: 警告: unrecognized command line option "-Wno-tautological-compare"
make: *** [generator.o] エラー 1

make failed, exit code 2
